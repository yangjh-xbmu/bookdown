[
["index.html", "使用 BookDown 制作在线电子书 前言", " 使用 BookDown 制作在线电子书 杨志宏 2019-12-01 前言 在这本小书中，我将介绍 bookdown 的用法，并记录在使用过程中遇到的各种问题和解决方案，尽量节约后来的同好上手的时间。 以下是我的 R 进程信息： sessionInfo() ## R version 3.6.1 (2019-07-05) ## Platform: x86_64-apple-darwin15.6.0 (64-bit) ## Running under: macOS Catalina 10.15 ## ## Matrix products: default ## BLAS: /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRblas.0.dylib ## LAPACK: /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRlapack.dylib ## ## locale: ## [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8 ## ## attached base packages: ## [1] stats graphics grDevices utils datasets ## [6] methods base ## ## loaded via a namespace (and not attached): ## [1] compiler_3.6.1 magrittr_1.5 bookdown_0.16 ## [4] tools_3.6.1 htmltools_0.4.0 yaml_2.2.0 ## [7] Rcpp_1.0.3 stringi_1.4.3 rmarkdown_1.18 ## [10] knitr_1.26 stringr_1.4.0 xfun_0.11 ## [13] digest_0.6.23 rlang_0.4.2 evaluate_0.14 杨志宏 于 世界之最温暖处 "],
["intro.html", "第 1 章 Bookdown 介绍及安装 1.1 为什么用 bookdown 1.2 使用 bookdown 前的准备工作", " 第 1 章 Bookdown 介绍及安装 Bookdown 是一个面向科研人员的文档写作、转换、发布工具，基于 R markdown、git、gitbook、pandoc、tex等开源工具，尤其适合于爱折腾的同学。使用 bookdown 写作的在线开源书籍有： bookdown: Authoring Books and Technical Documents with R Markdown R 语言教程 1.1 为什么用 bookdown 相对于 Word、Tex、Gitbook、Vuepress 等工具而言，bookdown 具有如下优势： 编译速度快。 完美支持数学公式的显示。 内置对 R markdown 的支持，能够运行R代码，并直接将运行结果显示在文档中。 对学术写作支持更好，如参考文献、交叉引用等等。 开源，且由科研人员群体开发和维护，了解科研人员需求。 但bookdown也存在学习成本较高的问题，估计大多数科研人员不会投入时间去了解。我碰巧有tex、gitbook的使用经验，所以在用bookdown时能够较快地掌握，但即便如此，我也花费了近2天时间，才算基本掌握。 1.2 使用 bookdown 前的准备工作 1.2.1 安装 R 到R的官方网站，下载适合系统的最新包，尤其是 Mac 系统，还需要安装官方网站提到的 XQuartz 。 1.2.2 安装 Rstudio 到官网下载 R studio，安装到合适路径，路径名不要使用中文。 另外，RStudio 自带 Pandoc 相关工具，无需单独安装。 RStudio 的使用可参考如下文档：https://resources.rstudio.com/rstudio-developed/rstudio-ide。 1.2.3 安装 bookdown 启动 RStudio，设置到最近的镜像（非必须，只是为了加快下载速度），然后安装 bookdown，在控制台中运行： install.packages(&quot;bookdown&quot;) 安装完成后，重启 RStudio。 1.2.4 安装 tex 此步骤非必须，仅在生成 PDF 时需要。建议安装 tex live 官方版本，而非其他简化版。 1.2.5 下载适合中文的模板 Bookdown 的作者谢益辉博士，提供了适合非常不错的中文排版模板。使用 RStudio 打开后，即可在其基础上专心于进行内容的创作。 北京大学的李东风教授，也提供了一个非常实用的中文模板。 "],
["basic.html", "第 2 章 Bookdown 的基本用法 2.1 使用bookdown创作的流程 2.2 bookdown 对文档的组织 2.3 bookdown 语法", " 第 2 章 Bookdown 的基本用法 从本质上讲，bookdown 是基于 Pandoc、markdown、R、Rmarkdown、gitbook、tex、git 等等一系列开源项目上的综合性工具，这套工具大大降低了用户自己整合上述多个工具的成本，以更加高效地方式完成内容创作、发布和维护。 2.1 使用bookdown创作的流程 2.1.1 初始化 使用下载的模板或者bookdown自带的模板，创建bookdown项目。建议使用前者，因为更加适合中文内容的排版。 当然，当用户熟悉了bookdown之后，还可以在这些模板的基础上进行必要的配置，使之更加符合用户的需求。 2.1.2 编辑内容 在合适的编辑器中（建议先使用RStudio，后期熟悉后，可使用VS Code之类的功能更为复杂的通用性编辑器），按照markdown以及Rmarkdown的语法规则，进行内容的创作和编辑。 2.1.3 预览内容 选择 RStudio 中的“Build Book”功能，生成合适格式。还可以在控制台中键入如下命令，开启实时预览： bookdown::serve_book() 2.1.4 发布 利用 GitHub 或 Gitee 的 page 服务，可将生成的静态页面发布到网络。 2.2 bookdown 对文档的组织 和一篇文章相比，一本书包含多个章节。在bookdown中，一个章节对应一个后缀名为.Rmd的 R Markdown 文件，每个 R Markdown 文件（除了首页）都必须以一级标题开头。例如： # bookdown 对书本文档的组织 默认情况下，bookdown 按照文件名的顺序，从前到后合并在一起，并渲染成gitbook格式或者pdf、epub或者word文件。 如果存在index.Rmd文件，则该文件会被渲染成index.html。以下划线开头的文件，会被bookdown忽略。 bookdown 还提供了自定义章节顺序的机制。在配置文件_bookdown.yml中，通过rmd_files字段实现，例如： rmd_files: [&quot;index.Rmd&quot;, &quot;abstract.Rmd&quot;, &quot;intro.Rmd&quot;] 还可以分别为不同格式指定包含的内容： rmd_files: html: [&quot;index.Rmd&quot;, &quot;abstract.Rmd&quot;, &quot;intro.Rmd&quot;] latex: [&quot;abstract.Rmd&quot;, &quot;intro.Rmd&quot;] 必须要指出的是，每个章节的一级标题后，需要在后面加上标签，如： # Bookdown 的基本用法 {#basic} 2.3 bookdown 语法 首先，bookdown是基于markdown和pandoc的工具，因此，Markdown 的原生语法肯定是可以使用的。在此不再赘述。 其次，Pandoc 在markdown语法的基础上，提供了一些增强，bookdown也是支持的。 最后，bookdown 是在 R bookdown 包的基础上进行扩展，故而也支持 R Markdown 语法。如： dim(iris) ## [1] 150 5 再如，下面的代码将列出R Markdown支持的所有语言： names(knitr::knit_engines$get()) ## [1] &quot;awk&quot; &quot;bash&quot; &quot;coffee&quot; &quot;gawk&quot; &quot;groovy&quot; ## [6] &quot;haskell&quot; &quot;lein&quot; &quot;mysql&quot; &quot;node&quot; &quot;octave&quot; ## [11] &quot;perl&quot; &quot;psql&quot; &quot;Rscript&quot; &quot;ruby&quot; &quot;sas&quot; ## [16] &quot;scala&quot; &quot;sed&quot; &quot;sh&quot; &quot;stata&quot; &quot;zsh&quot; ## [21] &quot;highlight&quot; &quot;Rcpp&quot; &quot;tikz&quot; &quot;dot&quot; &quot;c&quot; ## [26] &quot;fortran&quot; &quot;fortran95&quot; &quot;asy&quot; &quot;cat&quot; &quot;asis&quot; ## [31] &quot;stan&quot; &quot;block&quot; &quot;block2&quot; &quot;js&quot; &quot;css&quot; ## [36] &quot;sql&quot; &quot;go&quot; &quot;python&quot; &quot;julia&quot; &quot;sass&quot; ## [41] &quot;scss&quot; &quot;theorem&quot; &quot;lemma&quot; &quot;corollary&quot; &quot;proposition&quot; ## [46] &quot;conjecture&quot; &quot;definition&quot; &quot;example&quot; &quot;exercise&quot; &quot;proof&quot; ## [51] &quot;remark&quot; &quot;solution&quot; "],
["howtodo.html", "第 3 章 常用功能的实现 3.1 如何插入参考文献 3.2 如何将参考文献格式调整为国标格式 3.3 如何设置索引", " 第 3 章 常用功能的实现 3.1 如何插入参考文献 插入参考文献时，需要创建.bib格式的参考文献数据库。 在合适的地方插入引用(Xie 2015)，语法如下： 引用[@xie2015] 单独创建一个显示全部参考文献的.Rmd文件，内容如下： # References {-} 按照上述步骤，将在章节末尾和全书末尾生成参考文献。 3.2 如何将参考文献格式调整为国标格式 在首页文件index.Rmd中，用户可以通过biblio-style指定参考文献的格式，例如： --- bibliography: [&quot;one.bib&quot;, &quot;another.bib&quot;, &quot;yet-another.bib&quot;] biblio-style: &quot;GBT7714-2005&quot; link-citations: true --- 与此同时，还需要将上述文件复制到项目目录中，不过上述设定，仅对PDF和word输出时起作用，对于gitbook格式，则没有效果。 3.3 如何设置索引 在一些书的后面，我们可以看到一些人名、术语的索引（index），在bookdown中，可以通过\\index{}实现。 但目前而言，只支持PDF格式的输出。需要在latex的导言区文件preamble.tex中，加入： \\usepackage{makeidx} \\makeindex 然后在配置文件after_body.tex中，加入： \\printindex 如果使用 bookdown 提供的模板，上述设置已被默认。 参考文献 "],
["references.html", "参考文献", " 参考文献 "]
]
